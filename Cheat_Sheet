### Linux cmd

- /lib/ld-*   - run non executable program
- echo $? - exit status of last command (0 no error)
- chattr & lsattr --- change&list file attributes 
- touch $(date +"%Y_%m_%d_%I_%M_%p")  --- create file with current datetime as filename
- ' - Single quote removes meaning special meaning of special character.
- find /qwe -type f -iname \_.js -exec cp --parents -t /tmp/ {} + -- find all js files and copy with parent directory
- find . -type f -name \_.js -print0 | tar c --null -T - | tar xC /tmp/ -- find all js files and copy with parent directory
- systemctl set-default graphical.target (ls -l /lib/systemd/system/runlevel\*) -- set runlevel
- echo <password> | sudo -S
- for i in t@01 st@02 ba@sta03;do ssh -o RequestTTY=true $i "sudo -l";done -- allow tty present
- sed '/pattern to match/d' ./infile > ./newfile
- sed -i 's/old-text/new-text/g' input.txt > outputfile
- sed 's/\<the\>/their/g' qwe.txt > /home/qwe_REPLACE.txt -- change "the -> their"
- for i in $a;do echo $i| cut -d "," -f1;done    --- splits by "," 
- for i in $(echo $a | tr ',' '\n');do grep "qwe $i" *;done
- sudo chage -I -1 -m 0 -M 99999 -E -1 user       -- change user password exp to never
- systemctl --type=service --state=active
- systemctl enable --now  svc       -- enable and start service

### virsh shutdown vms
- vms="$(virsh list |sed '/Id\|--/d' | awk '{print $2}')"
- for i in $(virsh list |awk '{print $2}'| grep -v Name); do virsh shutdown $i --mode acpi;done

### NMAP
- for i in "$(cat work)‚Äù;do nmap -sV -p 22 IP |grep -i ssh  ;done  --check for ssh port

### Network

- ss -tulp -- list udp&tcp
- netstat -tulp


### vim

- :r! sed -n '16,812 p' < input_file.txt -- copy line range from input_file
- :1,10d -- delete line from 1 to 10
- :se nu -- show line numbers


### Apache

Redirection in Apache (By default, the Redirect directive establishes a 302, or temporary, redirect.):
URL:https://www.digitalocean.com/community/tutorials/how-to-create-temporary-and-permanent-redirects-with-apache-and-nginx
<VirtualHost \*:80>
ServerName www.domain1.com
Redirect 301 /oldlocation http://www.domain2.com/newlocation
</VirtualHost>

- ServerTokens Prod -- hides Apache version


### Logrotate

- vi /etc/logrotate.d/


### IPTABLES

iptables -A INPUT -p tcp -m tcp --dport 5000 -j DROP -- discard incoming traffic
iptables -A INPUT -p tcp -m tcp --dport 8094 -j ACCEPT -- allow incoming traffic
iptables -D INPUT -p tcp -m tcp --dport 5000 -j DROP -- Delete rule
iptables -I INPUT -p tcp ! -s yourIPaddress --dport 22 -j DROP -- discard incoming traffic for port 22 except yourIPaddress
iptables-save >/etc/sysconfig/iptables -- save rules


### GIT

git init --- creates .git folder
Files are untracked when first created
git add --- to start tracking (stage all files and changes in the current folder)
git diff --staged --- show changes on added files
git commit -m "commit message"
git config --global --unset http.proxy
git remote set-url <remote_name> <remote_url>
git remote -v
git squash   -- combine multiple commits into one
